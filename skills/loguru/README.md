# Loguru Skill

The Loguru Skill establishes loguru as the standard logging library for all CV/ML projects, replacing stdlib `logging` and `print()` statements. ML projects generate dense, structured output -- training metrics per epoch, per-batch loss values, checkpoint saves, evaluation results -- and loguru handles all of this with zero-configuration defaults, lazy formatting, structured context binding, and built-in file rotation.

This is a mandatory project convention. Every project generated by the master skill includes loguru as a dependency and a `setup_logging()` function that configures stderr and optional file sinks. Library modules import `from loguru import logger` and log directly; only entry points (train.py, serve.py, CLI commands) call `setup_logging()`. An `InterceptHandler` routes all stdlib logging from third-party libraries (PyTorch Lightning, uvicorn, transformers) through loguru so output is consistent.

## When to Use

- In every project -- loguru is a standard dependency, not optional.
- When adding logging to any module -- use `from loguru import logger`, never `logging.getLogger()`.
- When setting up a new entry point (training script, API server, CLI tool) -- call `setup_logging()` once.
- When you need structured context (epoch, batch, loss) attached to log messages.
- When routing third-party library logs through a unified output.

## Key Features

- **Zero boilerplate** -- one import, no handler/formatter setup, works immediately.
- **Structured context binding** -- `logger.bind(epoch=5)` attaches context to all subsequent messages in scope.
- **Lazy formatting** -- `logger.info("Loss: {}", loss)` avoids formatting overhead when the level is filtered.
- **InterceptHandler** -- routes stdlib `logging` from Lightning, uvicorn, torch through loguru for unified output.
- **File rotation and retention** -- built-in `rotation="100 MB"` and `retention="7 days"` prevents disk exhaustion.
- **JSON serialization** -- `serialize=True` for production log aggregation (CloudWatch, Elasticsearch, GCP Cloud Logging).
- **Exception handling** -- `@logger.catch` decorator and `logger.exception()` include full variable context in tracebacks.
- **Pydantic configuration** -- `LogConfig` model for type-safe logging settings via Hydra or environment variables.

## Related Skills

- **[Master Skill](../master-skill/)** -- project initialization includes loguru as a standard dependency and generates `setup_logging()`.
- **[PyTorch Lightning](../pytorch-lightning/)** -- `InterceptHandler` routes Lightning's stdlib logging through loguru.
- **[Pydantic Strict](../pydantic-strict/)** -- `LogConfig` model validates logging configuration with frozen Pydantic models.
- **[Hydra Config](../hydra-config/)** -- logging configuration lives in `configs/logging.yaml` and is composed into the main config.
